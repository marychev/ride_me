#:import BorderImage kivy.graphics.vertex_instructions.BorderImage
#:import Line kivy.graphics.vertex_instructions.Line
#:import Rectangle kivy.graphics.vertex_instructions.Rectangle
#:import Currency objects.currency.currency.Currency
#:import UColor utils.color.Color


<CharBtn@Button>:
    disabled: True
    opacity: 0.2


<CharacterWrap>:
    orientation: "vertical"
    height: 75
    width: 300
    size_hint: None, None
    item: self.item
    title: self.title
    value: self.value
    max: self.max

    BoxLayout:
        CharBtn:
            text: "Current: {}".format(root.value)
            opacity: 0.5 if not bool(root.value) else self.opacity
        Label:
            text: "{}".format(root.title)
            color: UColor.hex(UColor.GRAY)
        CharBtn:
            text: "Upgrade: {0}".format(root.max)
            opacity: 0 if not bool(root.value) else self.opacity

    BoxLayout:
        orientation: "vertical"
        ProgressBar:
            pos: root.pos[0], root.pos[1] + 45
            value: int(root.value)
            max: int(root.max)
            canvas:
                Color:
                    rgba: 0, 0, 0, .9
                Line:
                    points: self.x, self.y+19, self.x + self.parent.width, self.y+19
                    width: 3
